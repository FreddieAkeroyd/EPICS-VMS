
record(bo, "$(P)ISISBEAM:SIM")
{
    field(DTYP, "Soft Channel")
    field(ZNAM, "NO")
    field(ONAM, "YES")
    field(VAL, "0")
    field(DESC, "Simulation Mode")
}

record(bo, "$(P)ISISBEAM:DISABLE") 
{
    field(DESC, "Disable comms")
    field(PINI, "YES")
    field(VAL, "0")
    field(OMSL, "supervisory")
    field(ZNAM, "COMMS ENABLED")
    field(ONAM, "COMMS DISABLED")
}

record(ai, "$(P)TG:TS1:MOD:METH:TEMP")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)mtemp")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(DESC, "TS1 Methane Mod Temp")
   field(EGU, "K")
   field(HOPR, "300")
   field(LOPR, "80")
   field(HIGH, "150")
   field(HSV, "MINOR")
   field(SIOL, "100")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(ai, "$(P)TG:TS1:MOD:HDGN:TEMP")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)htemp")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(DESC, "TS1 Hydrogen Mod Temp")
   field(EGU, "K")
   field(HOPR, "300")
   field(LOPR, "15")
   field(HIGH, "30")
   field(HSV, "MINOR")
   field(SIOL, "25")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}


record(ai, "$(P)AC:SYNCH:FREQ")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)mode")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "Synchrotron Frequency")
   field(EGU, "Hz")
   field(HOPR, "50")
   field(LOPR, "0")
   field(LOW, "1")
   field(LSV, "MINOR")
   field(SIOL, "30")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(ai, "$(P)AC:TS1:FREQ")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)rep_rate")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "TS1 Frequency")
   field(EGU, "Hz")
   field(HOPR, "50")
   field(LOPR, "0")
   field(LOW, "1")
   field(LSV, "MINOR")
   field(SIOL, "40")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(ai, "$(P)AC:TS1:BEAM:TOTAL")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)ts1_total")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "TS1 Total uAh since midnight")
   field(EGU, "uAH")
   field(SIOL, "40")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(ai, "$(P)AC:TS2:FREQ")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)rep_rate2")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "TS2 Frequency")
   field(EGU, "Hz")
   field(HOPR, "10")
   field(LOPR, "0")
   field(LOW, "1")
   field(LSV, "MINOR")
   field(SIOL, "10")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(ai, "$(P)AC:TS2:BEAM:TOTAL")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)ts2_total")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(DESC, "TS2 Total uAh since midnight")
   field(EGU, "uAH")
   field(SIOL, "40")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(ai, "$(P)AC:TS2:DMOD:METH:TEMP")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)t2_mtemp1")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(DESC, "TS2 Decoupled Methane Temp")
   field(EGU, "K")
   field(HOPR, "300")
   field(LOPR, "40")
   field(HIGH, "65")
   field(HSV, "MINOR")
   field(SIOL, "100")
}

record(ai, "$(P)TG:TS2:CMOD:METH:TEMP")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)t2_mtemp2")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(DESC, "TS2 Coupled Methane Temp")
   field(EGU, "K")
   field(HOPR, "300")
   field(LOPR, "40")
   field(HIGH, "65")
   field(HSV, "MINOR")
   field(SIOL, "100")
}

record(ai, "$(P)TG:TS2:CMOD:HDGN:TEMP")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)t2_htemp1")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(DESC, "TS2 Coupled Hydrogen Temp")
   field(EGU, "K")
   field(HOPR, "300")
   field(LOPR, "10")
   field(HIGH, "30")
   field(HSV, "MINOR")
   field(SIOL, "100")
}

record(longin, "$(P)AC:TS2:DMOD:RTIME:DUR")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)dmod_runtime")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SIOL, "100")
   field(EGU, "s")
   field(DESC, "DMOD runtime")
}

record(longin, "$(P)AC:TS2:DMOD:RTLIM")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)dmod_runtime_lim")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(EGU, "s")
   field(DESC, "DMOD runtime limit")
}

record(ai, "$(P)AC:TS2:DMOD:BEAM")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)dmod_uabeam")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(EGU, "uAh")
   field(DESC, "DMOD uAh")
}

record(longin, "$(P)BL:MUON:KICKR")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)muon_kicker")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(FLNK, "$(P)BL:MUON:KICKR:STAT")
}

record(bi, "$(P)BL:MUON:KICKR:STAT")
{
	field(DTYP, "Soft Channel")
	field(INP, "$(P)AC:MUON:KICKR:ONCALC PP")
	field(ZNAM, "OFF")
	field(ONAM, "ON")
    field(DESC, "Muon kicker status")
}

record(calc, "$(P)AC:MUON:KICKR:ONCALC")
{
	field(INPA, "$(P)AC:MUON:KICKR NPP")
	field(CALC, "A#0?1:0")
}

record(bi, "$(P)AC:TS2:DMOD:ANNPLOW:STAT")
{
    field(DESC, "TS2 DMOD Meth Ann Press Low")
	field(DTYP, "Soft Channel")
	field(INP, "$(P)AC:TS2:DMOD:ANCLC PP")
	field(ZNAM, "NO")
	field(ONAM, "YES")
}

record(calc, "$(P)AC:TS2:DMOD:ANCLC")
{
	field(INPA, "$(P)AC:TS2:DMOD:ANN NPP")
	field(CALC, "A>0?1:0")
}

record(longin, "$(P)AC:TS2:DMOD:ANN")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)dmod_annlow1")
   field(SCAN, "I/O Intr")
   field(FLNK, "$(P)AC:TS2:DMOD:ANNPLOW:STAT")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(longin, "$(P)BL:SHUTTER:SHUTN:INP")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)shut_north")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(FLNK, "$(P)BL:SHUTTER:SHUTN")
}

record(mbbiDirect, "$(P)BL:SHUTTER:SHUTN")
{
   field(INP,  "$(P)BL:SHUTTER:SHUTN:INP")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(longin, "$(P)BL:SHUTTER:SHUTS:INP")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)shut_south")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(FLNK, "$(P)BL:SHUTTER:SHUTS")
}

record(mbbiDirect, "$(P)BL:SHUTTER:SHUTS")
{
   field(INP,  "$(P)BL:SHUTTER:SHUTS:INP")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

