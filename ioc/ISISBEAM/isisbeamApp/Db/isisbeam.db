
record(bo, "$(P)ISISBEAM:SIM")
{
    field(DTYP, "Soft Channel")
    field(ZNAM, "NO")
    field(ONAM, "YES")
    field(VAL, "0")
    field(DESC, "Simulation Mode")
	field(PINI, "YES")
}

record(bo, "$(P)ISISBEAM:DISABLE") 
{
    field(DESC, "Disable comms")
    field(PINI, "YES")
    field(VAL, "0")
    field(OMSL, "supervisory")
    field(ZNAM, "COMMS ENABLED")
    field(ONAM, "COMMS DISABLED")
}

record(ai, "$(P)AC:INJ:EFF")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)inj_eff")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(DESC, "Injector Efficiency")
   field(EGU, "%")
   field(HOPR, "100")
   field(LOPR, "0")
   field(SIOL, "50")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(ai, "$(P)AC:ACC:EFF")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)acc_eff")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(DESC, "Acceleration Efficiency")
   field(EGU, "%")
   field(HOPR, "100")
   field(LOPR, "0")
   field(SIOL, "50")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(ai, "$(P)AC:EXT:EFF")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)ext_eff")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(DESC, "Extract Efficiency")
   field(EGU, "%")
   field(HOPR, "100")
   field(LOPR, "0")
   field(SIOL, "50")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(ai, "$(P)TG:TS1:MOD:METH:TEMP")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)mtemp")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(DESC, "TS1 Methane Mod Temp")
   field(EGU, "K")
   field(HOPR, "300")
   field(LOPR, "80")
   field(HIGH, "150")
   field(HSV, "MINOR")
   field(SIOL, "100")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(ADEL, "0.1")
}

## use ADEL of 0.11 as it seems to bobble around 0.1 as the read value looks to have only one decimal place
record(ai, "$(P)TG:TS1:MOD:HDGN:TEMP")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)htemp")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(DESC, "TS1 Hydrogen Mod Temp")
   field(EGU, "K")
   field(HOPR, "300")
   field(LOPR, "15")
   field(HIGH, "30")
   field(HSV, "MINOR")
   field(SIOL, "25")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(ADEL, "0.11")
}

record(ai, "$(P)AC:TS1:FREQ")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)FREQSYNCH")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "TS1 Frequency")
   field(EGU, "Hz")
   field(HOPR, "50")
   field(LOPR, "0")
   field(LOW, "1")
   field(LSV, "MINOR")
}

record(bi, "$(P)AC:SYNCH:MODE")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)mode")
   field(SCAN, "I/O Intr")
   field(DESC, "Synchrotron Mode")
   field(ZNAM, "40Hz")
   field(ONAM, "50Hz")
   field(SIOL, "0")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(calcout, "$(P)AC:SYNCH:FREQ")
{
   field(INPA,  "$(P)AC:SYNCH:MODE CP")
   field(CALC, "A = 0 ? 40 : 50")
   field(PREC, "3")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "Synchrotron Frequency")
   field(EGU, "Hz")
   field(HOPR, "50")
   field(LOPR, "0")
   field(LOW, "1")
   field(LSV, "MINOR")
}

record(bi, "$(P)AC:SYNCH:GMS1")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)gms1on")
   field(SCAN, "I/O Intr")
   field(DESC, "Synchrotron GMS1")
   field(ZNAM, "OFF")
   field(ONAM, "ON")
   field(SIOL, "0")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(bi, "$(P)AC:SYNCH:GMS2")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)gms2on")
   field(SCAN, "I/O Intr")
   field(DESC, "Synchrotron GMS2")
   field(ZNAM, "OFF")
   field(ONAM, "ON")
   field(SIOL, "0")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(ai, "$(P)AC:TS1:FREQ")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)rep_rate")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "TS1 Frequency")
   field(EGU, "Hz")
   field(HOPR, "50")
   field(LOPR, "0")
   field(LOW, "1")
   field(LSV, "MINOR")
   field(SIOL, "40")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

# today and yesterday refer to the ISIS accounting dat which starts at 0830
record(ai, "$(P)AC:TS1:BEAM:_TOTAL")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)ts1_total")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "TS1 Total uA.day today")
   field(EGU, "uA.day")
   field(SIOL, "40")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(FLNK, "$(P)AC:TS1:BEAM:TOTAL")
}

# today and yesterday refer to the ISIS accounting dat which starts at 0830
record(calc, "$(P)AC:TS1:BEAM:TOTAL")
{
   field(INPA,  "$(P)AC:TS1:BEAM:_TOTAL NPP")
   field(CALC, "A * 24.0")
   field(PREC, "3")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "TS1 uAh since 08:30")
   field(EGU, "uAh")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

# today and yesterday refer to the ISIS accounting dat which starts at 0830
record(ai, "$(P)AC:TS1:BEAM:_YEST")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)ts1_total_yest")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "TS1 uA.day yesterday")
   field(EGU, "uA.day")
   field(SIOL, "40")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(FLNK, "$(P)AC:TS1:BEAM:YEST")
}

# today and yesterday refer to the ISIS accounting dat which starts at 0830
record(calc, "$(P)AC:TS1:BEAM:YEST")
{
   field(INPA,  "$(P)AC:TS1:BEAM:_YEST NPP")
   field(CALC, "A * 24.0")
   field(PREC, "3")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "TS1 uAh yesterday")
   field(EGU, "uAh")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(ai, "$(P)AC:TS2:FREQ")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)rep_rate2")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "TS2 Frequency")
   field(EGU, "Hz")
   field(HOPR, "10")
   field(LOPR, "0")
   field(LOW, "1")
   field(LSV, "MINOR")
   field(SIOL, "10")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

# today and yesterday refer to the ISIS accounting dat which starts at 0830
record(ai, "$(P)AC:TS2:BEAM:_TOTAL")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)ts2_total")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(DESC, "TS2 uAh.day today")
   field(EGU, "uA.day")
   field(SIOL, "40")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(FLNK, "$(P)AC:TS2:BEAM:TOTAL")
}

# today and yesterday refer to the ISIS accounting dat which starts at 0830
record(calc, "$(P)AC:TS2:BEAM:TOTAL")
{
   field(INPA,  "$(P)AC:TS2:BEAM:_TOTAL NPP")
   field(CALC, "A * 24.0")
   field(PREC, "3")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "TS2 uAh since 08:30")
   field(EGU, "uAh")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

# today and yesterday refer to the ISIS accounting dat which starts at 0830
record(ai, "$(P)AC:TS2:BEAM:_YEST")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)ts2_total_yest")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(DESC, "TS2 uAh.day yesterday")
   field(EGU, "uA.day")
   field(SIOL, "40")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(FLNK, "$(P)AC:TS2:BEAM:YEST")
}

# today and yesterday refer to the ISIS accounting dat which starts at 0830
record(calc, "$(P)AC:TS2:BEAM:YEST")
{
   field(INPA,  "$(P)AC:TS2:BEAM:_YEST NPP")
   field(CALC, "A * 24.0")
   field(PREC, "3")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(DESC, "TS2 uAh yesterday")
   field(EGU, "uAh")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

#  TE842
record(ai, "$(P)TG:TS2:DMOD:METH:TEMP")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)t2_mtemp1")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(DESC, "TS2 Decoupled Methane Temp")
   field(EGU, "K")
   field(HOPR, "300")
   field(LOPR, "40")
   field(HIGH, "65")
   field(HSV, "MINOR")
   field(SIOL, "100")
   field(ADEL, "0.1")
}

#  TE852
record(ai, "$(P)TG:TS2:CMOD:METH:TEMP")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)t2_mtemp2")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(DESC, "TS2 Coupled Methane Temp")
   field(EGU, "K")
   field(HOPR, "300")
   field(LOPR, "40")
   field(HIGH, "65")
   field(HSV, "MINOR")
   field(SIOL, "100")
   field(ADEL, "0.1")
}

#  TT706
record(ai, "$(P)TG:TS2:CMOD:HDGN:TEMP")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)t2_htemp1")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(DESC, "TS2 Coupled Hydrogen Temp")
   field(EGU, "K")
   field(HOPR, "300")
   field(LOPR, "10")
   field(HIGH, "30")
   field(HSV, "MINOR")
   field(SIOL, "100")
   field(ADEL, "0.1")
}

record(longin, "$(P)TG:TS2:DMOD:RTIME:DUR")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)dmod_runtime")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(SIOL, "100")
   field(EGU, "minute")
   field(DESC, "DMOD runtime")
}

record(longin, "$(P)TG:TS2:DMOD:RTLIM")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)dmod_runtime_lim")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(EGU, "minute")
   field(DESC, "DMOD runtime limit")
}

record(ai, "$(P)TG:TS2:DMOD:BEAM")
{
   field(DTYP, "asynFloat64")
   field(INP,  "@asyn(isisbeam,0,0)dmod_uabeam")
   field(PREC, "3")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(EGU, "uAh")
   field(DESC, "DMOD uAh")
}

record(bi, "$(P)BL:MUON:KICKR:STAT")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)muon_kicker")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(ZNAM, "OFF")
   field(ONAM, "ON")
   field(DESC, "Muon kicker status")
   field(ZSV, "MINOR")
}

record(ai, "$(P)BL:MUON:KICKR")
{
   field(DTYP, "Soft Channel")
   field(INP, "$(P)BL:MUON:KICKR:STAT CP")
   field(PREC, "3")
}

record(bi, "$(P)TG:TS2:DMOD:ANNPLOW:STAT")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)dmod_annlow1")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(SIML, "$(P)ISISBEAM:SIM")
   field(DESC, "TS2 DMOD Meth Ann Press Low")
   field(ZNAM, "YES")
   field(ONAM, "NO")
   field(ZSV, "MINOR")
}

record(ai, "$(P)TG:TS2:DMOD:ANN")
{
   field(DTYP, "Soft Channel")
   field(INP,  "$(P)TG:TS2:DMOD:ANNPLOW:STAT CP")
   field(PREC, "3")
}

record(longin, "$(P)BL:SHTR:SHUTN:INP")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)shut_north")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(FLNK, "$(P)BL:SHTR:SHUTN")
}

record(longin, "$(P)BL:SHTR:SHUTS:INP")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)shut_south")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(FLNK, "$(P)BL:SHTR:SHUTS")
}

record(mbbiDirect, "$(P)BL:SHTR:SHUTN")
{
   field(INP,  "$(P)BL:SHTR:SHUTN:INP")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(mbbiDirect, "$(P)BL:SHTR:SHUTS")
{
   field(INP,  "$(P)BL:SHTR:SHUTS:INP")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(stringin, "$(P)TG:UPDTIME")
{
   field(DTYP, "asynOctetRead")
   field(INP,  "@asyn(isisbeam,0,0)UPDTIME")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(longin, "$(P)TG:UPDTIMET")
{
   field(DTYP, "asynInt32")
   field(INP,  "@asyn(isisbeam,0,0)UPDTIMET")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
}

record(waveform, "$(P)TG:TS1:INST")
{
   field(DTYP, "asynOctetRead")
   field(INP,  "@asyn(isisbeam,0,0)INSTTS1")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(FTVL, "CHAR")
   field(NELM, "512")
}

record(waveform, "$(P)TG:TS2:INST")
{
   field(DTYP, "asynOctetRead")
   field(INP,  "@asyn(isisbeam,0,0)INSTTS2")
   field(SCAN, "I/O Intr")
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(FTVL, "CHAR")
   field(NELM, "512")
}

record(bi, "$(P)IN:OSIRIS:CRYOMAG")
{
   field(SDIS, "$(P)ISISBEAM:DISABLE")
   field(ZNAM, "Idle State")
   field(ONAM, "Rising")
   field(VAL, "0")
}
